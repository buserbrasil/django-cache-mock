[tox]

isolated_build = true
requires =
    tox-poetry-installer[poetry] >= 0.10.0

envlist = py{37,38,39,310,311}-dj{32,40,41}

[testenv]
allowlist_externals = poetry
commands =
    poetry run pytest
deps =
    dj32: django>=3.2,<4.0
    dj32: redis_cache
    dj40: django>=4.0,<4.1
    dj41: django>=4.1,<4.2
poetry_dep_groups =
    dev
    backends
extras =
    mockcache
    fakeredis
    redislite

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311

problem_matcher = false
